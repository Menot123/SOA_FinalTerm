<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <title>Đơn đăng ký tạm trú</title>
</head>

<style>
    #line__head {
        text-align: center;
        width: 372px;
        border-width: 3px;
        opacity: 1;
        margin-left: 34%;
    }

    .top {
        position: absolute;
        top: 0;
        right: 0;
        max-width: 240px;
    }

    div span {
        font-weight: bold;
        ;
        font-size: 1.2rem;
    }

    .nomal {
        font-weight: 400;
        ;
        font-size: 1.2rem;
    }

    #download-pdf {
        position: absolute;
        top: 100px;
        right: 50px;
    }
</style>

<body id="target">

    <div class="top my-2">
        <p>Mẫu CT01 ban hành theo TT số 56/2021/TT-BCA ngày 15/5/2021</p>
    </div>

    <div class="container my-2">
        <div class="head my-2 text-center">
            <h3>CỘNG HÒA XÃ HỘI CHỦ NGHĨA VIỆT NAM</h3>
            <h3>Độc lập - Tự do - Hạnh phúc</h3>
            <hr id="line__head">
        </div>

        <div class="title my-2 text-center" style="margin-top: 48px;">
            <h2>TỜ KHAI THAY ĐỔI THÔNG TIN CƯ TRÚ</h2>
        </div>
        {{#if data }}

        <div class="content my-2 mt-3">
            <div class="receiver my-2">
                <span style="margin-left: 48px;">Kính gửi: CÔNG AN PHƯỜNG TÂN PHONG</span>
            </div>

            <div class="name my-2">
                <span>1. Họ, chữ đệm và tên: <span class="nomal">{{data.name}}</span> </span>
            </div>

            <div class="birth__gender my-2 d-flex">
                <span>2. Ngày, tháng, năm sinh: <span class="nomal">{{data.date}}</span>:</span>
                <span style="margin-left: 28%;">3. Giới tính: <span class="nomal">{{data.gender}}</span> </span>
            </div>

            <div class="code my-2">
                <span>4. Số định danh cá nhân/CMND: <span class="nomal">{{data.code}}</span> </span>
            </div>

            <div class="contact my-2 d-flex">
                <span>5. Số điện thoại liên hệ: <span class="nomal">{{data.phone}}</span> </span>
                <span style="margin-left: 28%;">6. Email: <span class="nomal">{{data.email}}</span> </span>
            </div>

            <div class="old__add my-2">
                <span>7. Nơi thường trú: <span class="nomal">{{data.oldAdd}}</span> </span>
            </div>

            <div class="now__add my-2">
                <span>8. Nơi tạm trú: <span class="nomal">{{data.tempAdd}}</span> </span>
            </div>

            <div class="now__location my-2">
                <span>9. Nơi ở hiện tại: <span class="nomal">{{data.nowAdd}}</span> </span>
            </div>

            <div class="work my-2">
                <span>10. Nghề nghiệp, nơi làm việc: <span class="nomal">{{data.work}}</span> </span>
            </div>

            <div class="boss my-2 d-flex">
                <span>11. Họ, chữ đệm và tên chủ hộ: <span class="nomal">Nguyễn Văn Tùng</span></span>
                <span style="margin-left: 28%;">12. Quan hệ với chủ hộ: <span class="nomal">{{data.relationship}}</span>
                </span>
            </div>

            <div class="boss__code my-2">
                <span>13. Số định danh cá nhân/CMND của chủ hộ: <span class="nomal">08022245526</span> </span>
            </div>

            <div class="content_require my-2">
                <span>14. Nội dung đề nghị: <span class="nomal">{{data.message}}</span> </span>
            </div>

            <div class="people my-2">
                <span>15. Những thành viên trong hộ gia đình cùng thay đổi</span>
            </div>

            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th scope="col">TT</th>
                        <th scope="col">Họ, chữ đệm và tên</th>
                        <th scope="col">Ngày, tháng, năm sinh</th>
                        <th scope="col">Giới tính</th>
                        <th scope="col">Số định danh cá nhân</th>
                        <th scope="col">Nghề nghiệp, nơi làm việc</th>
                        <th scope="col">Quan hệ với người thay đổi</th>
                        <th scope="col">Quan hệ với chủ hộ</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each array}}
                    <tr>
                        <th scope="row">{{this.stt}}</th>
                        <td>{{this.name1}}</td>
                        <td>{{this.birth1}}</td>
                        <td>{{this.gender1}}</td>
                        <td>{{this.code1}}</td>
                        <td>{{this.work1}}</td>
                        <td>{{this.rel1}}</td>
                        <td>{{this.relb1}}</td>
                    </tr>
                    {{/each}}


                </tbody>
            </table>
            {{/if }}

            <div class="text my-2 d-flex justify-content-between">
                <div class="one my-2">
                    <span>ngày tháng năm</span> <br>
                    <h6>Ý KIẾN CỦA CHỦ HỘ</h6>
                </div>
                <div class="two my-2">
                    <span>ngày tháng năm</span> <br>
                    <h6>Ý KIẾN CỦA CHỦ SỞ HỮU</h6>
                </div>
                <div class="three my-2">
                    <span>ngày tháng năm</span> <br>
                    <h6>Ý KIẾN CỦA CHA MẸ</h6>
                </div>
                <div class="four my-2">
                    <span>ngày tháng năm</span> <br>
                    <h6>NGƯỜI KÊ KHAI</h6>
                </div>
            </div>
        </div>
    </div>


    <button class="btn btn-primary" id="download-pdf">Tải xuống PDF</button>


</body>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.1.135/jspdf.umd.min.js"></script>
<script>
    const btn__download = document.getElementById("download-pdf")
    console.log(btn__download)
    document.getElementById("download-pdf").addEventListener("click", function () {
        window.print()
        console.log('hi')
        // Lấy nội dung của trang HTML
        var html = document.getElementById('target');

        // Tạo một đối tượng PDF từ nội dung HTML
        var pdf = new jsPDF();

        // Thêm nội dung HTML vào trang PDF
        pdf.html(html, {
            callback: function (pdf) {
                // Tải xuống tệp PDF
                pdf.save("ten-tap-tin.pdf");
            }
        });
    });
</script>

</html>